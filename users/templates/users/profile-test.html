{% extends "rlcis/base.html" %}
{% load crispy_forms_tags %}
{% block content %}



<!doctype html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>GeeksforGeeks</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="theme-color" content="#4CB96B" />
        <link rel="shortcut icon" href="https://www.geeksforgeeks.org/favicon.ico">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    </head>
    <body>
        <link rel="stylesheet" href="https://authcdn.geeksforgeeks.org/css/auth.min.css?ver=0.5" />
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
<script src="/js/typeahead.bundle.min.js"></script>
<style>
     html, body, .container-table {
        height: 100%;
        color: #999;
    }
    body{
        background: url('https://cdncontribute.geeksforgeeks.org/wp-content/uploads/White-LowOpacity.png');
        background-color: rgba(50,161,118,0.8);
        background-size: 20%;
    }
    .container-table {
        display: table;
    }
    .vertical-center-row {
        display: table-cell;
        vertical-align: middle;
    }
    .no-email-main-div{
        background: #fff;
        border: 2px solid #a6e3bc;
        box-shadow: 0 0 5px #888;
        border-radius: 4px;
        padding: 25px;
    }
    .avatar{
        width: 70px;
        border-radius: 50%;
        border: 4px solid #5ab390;
    }
    .logo{
        width: 275px;
    }
    .column-div{
        padding: 10px 0px;
    }
    label.fill-email{
        padding:0;
    }
    hr{
        margin: 0 20%;
        border-top: 1px solid #4cb96b;
    }
    .btn-success{
        background-color: #32a176;
    }
    .response{
        color: #b92b27;
        font-weight: bold;
        font-size: 16px;
    }
    p.msg{
        font-size: 10px;
    }
    p.msg span{
        color: #4cb96b;
        font-weight: bold;
        font-size: 16px;
    }
    p.head-msg{
        text-align: center;
        font-size: 18px;
        margin-top: 15px;
        font-weight: bold;
        color: #404040;
    }
    .resume-upload-btn{
        color: #323835;
    }
    .no-email-form{
        padding-right:15px;
        padding-left:15px;
    }
    .form-group{
        margin-right: 0px !important;
    }
    .toast {
      padding: 10px 20px;
      color: #fff;
      background: rgba(0,0,10,0.8);
      display: inline-block;
      position: fixed;
      top: -100px;
      right: 15px;
      opacity: 0;
      z-index: 5;
      font-weight: bold;
      transition: all 0.4s ease-out;
    }
    
    /*CSS for Loader */
    .submit-loader{
        position: fixed;
        width: 100%;
        min-height: 100vh;
        /* height: 100%; */
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: rgba(0,0,0,0.5);
        z-index: 99999;
        display: none;
    }
    .spinLoader{
        position: fixed;
        top: 45%;
        left: 45%;
        font-size: 50px;
        color: white;
        transform: translate(-50%,-50%);
        -ms-transform: translate(-50%,-50%);
    }
    .loader{
        border: 16px solid #f3f3f3; /* Light grey */
        border-top: 16px solid #5ab390; /* Blue */
        border-radius: 50%;
        width: 120px;
        height: 120px;
        animation: spin 2s linear infinite;
    }
    @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    } 
</style>
<div class="container container-table">
    <div class="row vertical-center-row">
        <div class="submit-loader">
            <div class="loader spinLoader"></div>
        </div>
        <div class="col-xs-12 col-sm-8 col-sm-offset-2 no-email-main-div">
            <div class="row text-center">
                <a href="https://www.geeksforgeeks.org">
                    <img class="logo" src="https://media.geeksforgeeks.org/auth/geeksforgeeks-logo.png">
                </a>
            </div>
            <hr>
            <div class="row">
                <p class="head-msg">Complete your Profile to continue </p>
                <div class="col-xs-2 col-xs-offset-5 text-center column-div">
                    <!--Profile Image Edit Code
                    <button class="profile-edit-icon" style="position:absolute;top:69%;right:15%;background:#fff;color:#404040;border-radius:75%;width:37px;">
                    <i class="material-icons">edit</i>
                    </button>
                    <input type="file" class="imageFile" style="display:none">
                    -->
                    <img alt="roblangenet" src="https://media.geeksforgeeks.org/img-practice/user_web-1598433228.svg" class="avatar">
                </div>
                <div class="col-xs-12 column-div">
                    <form class="form-horizontal no-email-form">
                                                    <div class="col-sm-6">
                                <div class="form-group">
                                    <label class="col-sm-12 fill-email pull-left" for="formGroupInputInst">Institution/Organization</label>
                                    <input class="form-control typeahead" type="text" name="institute" autocomplete="off" id="formGroupInputInst" maxlength = "300" placeholder="Enter Your Instiution/Organization">
                                </div>
                            </div>
                                                <input type="hidden" name="roadblock_csrf_token" value="9672458c9b9371bf6d4902edafbe445e">
                        <div class="col-sm-6">
                            <div class="form-group">
                                <label class="col-sm-12 fill-email pull-left" for="formGroupInput">Display Name</label>
                                <input class="form-control typeahead" type="text" name="name" maxlength="50" placeholder="Enter Your Name" value = Robert Lange>
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <div class="form-group">
                                <label class="col-sm-12 fill-email pull-left" for="formGroupInput">Gender</label>
                                <select name="gender" class="selectpicker form-control">
                                    <option value="" disabled selected>Select Gender</option>
                                    <option value="male" >Male</option>
                                    <option value="female" >Female</option>
                                    <option value="other" >Other</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <div class="form-group">
                                <label class="col-sm-12 fill-email pull-left" for="formGroupInput">Contact Number</label>
                                <input class="form-control typeahead" type="text" id="phone" name="phone" value="" onkeypress="return isNumber(event)" maxlength="20" placeholder = "Enter Your Contact Number">
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <div class="form-group">
                                <label class="col-sm-12 fill-email pull-left" for="formGroupInput">Highest Qualification</label>
                                <select name="hq_details" class="selectpicker form-control">
                                <option value="" disabled selected>Select Highest Qualification</option>
                                <option value='0'>B.Tech</option><option value='1'>M.Tech</option><option value='2'>B.Sc</option><option value='3'>M.Sc</option><option value='4'>BCA</option><option value='5'>MCA</option><option value='6'>BBA</option><option value='7'>MBA</option><option value='9'>B.E.</option>                                <option value="8" >Other</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-sm-12 other-qualification-container focused" style="display:none;">
                            <div class="form-group">
                                <label class="col-sm-12 fill-email pull-left" for="other_qualification">Other Qualification</label>
                                <input class="form-control other_qualification" type="text" maxlength="300" name="other_qualification"
                                >
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <div class="form-group">
                                <label class="col-sm-12 fill-email pull-left" for="formGroupInput">Graduation Year</label>
                                <input class="form-control typeahead" type="text" id="graduation_year" name="graduation_year" value="" onkeypress="return isNumber(event)" maxlength="4" placeholder="Graduation Year e.g. 2019">
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <div class="form-group">
                                <label class="col-sm-12 fill-email pull-left" for="formGroupInput">Work Experience(in years)</label>
                                <input class="form-control typeahead" type="text" id="work_experience" name="work_experience" onkeypress="return isNumber(event)" maxlength="2" placeholder="Work Experience in Years e.g. 3" value="">
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <div class="form-group">
                                <label class="col-sm-12 fill-email pull-left" for="formGroupInput">State</label>
                                <select name="stateid" class="selectpicker form-control">
                                    <option value="" disabled selected>Select State</option>
                                    <option value='6'>Andaman and Nicobar Islands</option><option value='7'>Andhra Pradesh</option><option value='8'>Arunachal Pradesh</option><option value='9'>Assam</option><option value='10'>Bihar</option><option value='11'>Chandigarh</option><option value='12'>Chhattisgarh</option><option value='13'>Dadra and Nagar Haveli</option><option value='14'>Daman & Diu</option><option value='4'>Delhi</option><option value='15'>Goa</option><option value='16'>Gujarat</option><option value='17'>Haryana</option><option value='18'>Himachal Pradesh</option><option value='19'>Jammu and Kashmir</option><option value='20'>Jharkhand</option><option value='2'>Karnataka</option><option value='21'>Kerala</option><option value='22'>Lakshadweep</option><option value='23'>Madhya Pradesh</option><option value='24'>Maharashtra</option><option value='25'>Manipur</option><option value='26'>Meghalaya</option><option value='27'>Mizoram</option><option value='28'>Nagaland</option><option value='29'>Odisha</option><option value='30'>Puducherry</option><option value='31'>Punjab</option><option value='32'>Rajasthan</option><option value='33'>Sikkim</option><option value='34'>Tamil Nadu</option><option value='3'>Telangana</option><option value='35'>Tripura</option><option value='5'>Uttar Pradesh</option><option value='36'>Uttarakhand</option><option value='37'>West Bengal</option><option value='1'>Outside India</option>                                </select>
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <div class="form-group">
                                <label class="col-sm-12 fill-email pull-left" for="city">City</label>
                                <input class="form-control typeahead" type="text" id="city" name="city" maxlength="60" value="" placeholder="Enter Your City Name">
                            </div>
                        </div>
                        <!--Resume Upload Code
                        <div  classs="form-group">
                            <div class="col-sm-6" style="margin-top:5px;">
                                <input type="file" accept="application/pdf" style="display:none;" name="userResume" class="form-control d-none" id="userResume">
                                <input type="button" class="col-xs-5 resume-upload-btn" value="Upload Resume" onclick="$('#userResume').click();">
                                <span id="resumeInfo" class="col-xs-7">Choose File</span>
                            </div>
                        </div>
                        -->
                        <p class="col-xs-12 response text-center"></p>
                        <div class="col-sm-12">
                            <button type="submit" class="btn btn-success accept-btn pull-right">Submit</button>
                                                        <button class="btn btn-default skip-btn pull-right" style="margin-right: 10px;">Skip</button>
                                                </div>
                    </form>            
                </div>
            </div>
        </div>
    </div>
</div>
<script src="https://authcdn.geeksforgeeks.org/js/auth.min.js?ver=0.1"></script>
    <script>
        var instituteListBlood = new Bloodhound({
            initialize: false,
            datumTokenizer: Bloodhound.tokenizers.obj.whitespace('value'),
            queryTokenizer: Bloodhound.tokenizers.whitespace,
            sufficient: 5,
            prefetch: { 
                url: 'https://api.geeksforgeeks.org/api/institutes/all'
            },
            remote: {
                url: 'https://api.geeksforgeeks.org/api/institutes/%QUERY/all',
                wildcard: '%QUERY',
                filter: function (data) {
                    // console.log(data);
                    instituteListBlood.add(data);
                    return data;
                }
            }
        });
        $(document).ready(function () {
        
            instituteListBlood.clearPrefetchCache();
            instituteListBlood.initialize();
            $('input[name=institute]').typeahead({
                minLength: 2,
                dynamic: false,
                highlight: true,
                cache: "sessionStorage",
                searchOnfocus: true,
                offset: true,
                blurOnTab: true
            }, {
                displaykey: 'value',
                limit: 15,
                source: instituteListBlood.ttAdapter(),
                accent: true,
                templates: {
                    empty: [
                        ''
                    ].join('\n')
                }
            });
        });

    </script>
<script>
    $('body').on('submit', 'form.no-email-form', function(e){
        e.preventDefault();
        var type = "email";

        if(!isValidFields()){
            return;
        }
        $('.submit-loader').show();
        $.ajax({
            url: 'ajax/roadBlockAjax.php',
            data: $(this).serialize()+'&type='+type,
            type: 'POST',
            success: function(data){
                if(data.trim() == "Error!" || data.trim() == "Success"){
                  window.location.href = "https://www.geeksforgeeks.org/shadows-in-bootstrap-with-examples/";
                }
                else{
                  $('p.response').html(data.trim());
                  $('.submit-loader').hide();
                }
            },
            error: function(data){
                console.log(data);
                $('.submit-loader').hide();
            }
        });
    });

    $('.skip-btn').click(function(e){
        e.preventDefault();
        var type = 'skip';
        $('.submit-loader').show();
        $.ajax({
            url: 'ajax/roadBlockAjax.php',
            data: 'type='+type,
            type: 'POST',
            success: function(data){
                if(data.trim() == "Success"){
                  window.location.href = "https://www.geeksforgeeks.org/shadows-in-bootstrap-with-examples/";
                }
                else{
                  $('.submit-loader').hide();
                  $('p.response').html(data.trim());
                }
            },
            error: function(data){
                console.log(data);
                $('.submit-loader').hide();
            }
        });
    });

    function isNumber(evt) {
        evt = (evt) ? evt : window.event;
        var charCode = (evt.which) ? evt.which : evt.keyCode;
        if (charCode > 31 && (charCode < 48 || charCode > 57)) {
            return false;
        }
        return true;
    }

    function isValidFields(){
        var name = $('.no-email-form').find('input[name=name]').val().trim();
        var phone = $('.no-email-form').find('input[name=phone]').val().trim();
        var city = $('.no-email-form').find('input[name=city]').val().trim();
        var gender = $('.no-email-form').find('select[name=gender]').val();
        var hq = $('.no-email-form').find('select[name=hq_details]').val();
        var state = $('.no-email-form').find('select[name=stateid]').val();
        var workExp = $('.no-email-form').find('input[name=work_experience]').val();
        var gradYear = $('.no-email-form').find('input[name=graduation_year]').val().trim();
        var institution = $('.no-email-form').find('input[name=institute]').length ? $('.no-email-form').find('input[name=institute]').val().trim() : '';

        if(name.length > 50){
            showtoast("Size Limit for Display Name exceeded");
            $('.no-email-form').find('input[name=name]').focus();
            return false;
        }
        if(phone.length > 20){
            showtoast("Size Limit for Contact Number exceeded");
            $('.no-email-form').find('input[name=phone]').focus();
            return false;
        }
        if(city.length > 60){
            showtoast("Size Limit for City exceeded");
            $('.no-email-form').find('input[name=city]').focus();
            return false;
        }
        if(gradYear.length > 4){
            showtoast("Size Limit for Graduation Year exceeded");
            $('.no-email-form').find('input[name=graduation_year]').focus();
            return false;
        }
        if(workExp.length > 2){
            showtoast("Size Limit for Work Experience exceeded");
            $('.no-email-form').find('input[name=work_experience]').focus();
            return false;
        }
        if(institution.length > 300){
            showtoast("Size Limit for Institution/Organization exceeded");
            $('.no-email-form').find('input[name=institution]').focus();
            return false;
        }
        if(workExp < 0 || workExp > 100){
            showtoast("Please enter a valid Work Experience");
            $('.no-email-form').find('input[name=work_experience]').focus();
            return false;
        }

        var curYear = new Date().getFullYear()
        if(gradYear != '' && (gradYear < 1950 || gradYear > (curYear + 10))){
            showtoast("Please enter a valid Graduation Year");
            $('.no-email-form').find('input[name=graduation_year]').focus();
            return false;
        }

        if(hq == "8"){       // Validating Other Qualification Value when Others Option is selected in Qualification
            var otherQualification = $('body').find('input[name=other_qualification]').val().trim();
            if(!otherQualification.length || otherQualification.length > 300){
                $('body').find('input[name=other_qualification]').focus();
                showtoast("Invalid Other qualification entered");
                invalid = 1;
                return;
            }
        }

        return true;
    }

    $('.no-email-form').on('change', 'select[name=hq_details]', function () {
        if($(this).val() == "8"){
            $(this).closest('.column-div').find('.other-qualification-container').show();
            $(this).closest('.column-div').find('.other_qualification').focus();
        }
        else{
            $(this).closest('.column-div').find('.other-qualification-container').hide();
        }
    })

</script>
    </body>
</html>

    {% endblock content %}